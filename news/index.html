<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Changelog • mrgsolve</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Changelog" />



<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-news">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">mrgsolve</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.8.12.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/metrumresearchgroup/mrgsolve">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
      <h1>Changelog <small></small></h1>
      <small>Source: <a href='https://github.com/metrumresearchgroup/mrgsolve/blob/master/NEWS.md'><code>NEWS.md</code></a></small>
    </div>

    <div id="mrgsolve-0-8-12-9000" class="section level1">
<h1 class="page-header">
<a href="#mrgsolve-0-8-12-9000" class="anchor"></a>mrgsolve 0.8.12.9000<small> Unreleased </small>
</h1>
<div id="new-functions" class="section level2">
<h2 class="hasAnchor">
<a href="#new-functions" class="anchor"></a>New functions</h2>
<ul>
<li>Added <code>numerics_only</code> function to drop non-numeric columns from the input data set after optionally converting logical columns to integer</li>
</ul>
</div>
<div id="new-features" class="section level2">
<h2 class="hasAnchor">
<a href="#new-features" class="anchor"></a>New features</h2>
<ul>
<li>Added <code>$PRED</code> block for models that don’t utilize any compartments</li>
<li>Added <code>pred1</code> to the <code>modlib</code>
</li>
</ul>
</div>
<div id="new-behavior" class="section level2">
<h2 class="hasAnchor">
<a href="#new-behavior" class="anchor"></a>New behavior</h2>
<ul>
<li>
<code>time/TIME</code> is no longer required in a data set when <code>$PRED</code> is in use</li>
<li>
<code>cmt/CMT</code> is no longer required in a data set; a default value of 0 will be assigned in case it is missing and an error will continue to be generated when dosing into an invalid compartment (0 is always an invalid index for dosing compartment)</li>
</ul>
</div>
</div>
    <div id="mrgsolve-0-8-12" class="section level1">
<h1 class="page-header">
<a href="#mrgsolve-0-8-12" class="anchor"></a>mrgsolve 0.8.12<small> 2018-04-27 </small>
</h1>
<ul>
<li>
<p>Minor changes to namespace for CRAN</p>
<h1 id="mrgsove-0.8.11" class="page-header">mrgsove 0.8.11<small> 2018-04-27 </small>
</h1>
</li>
<li>Internal release</li>
<li><p>Removed the function <code>s</code> and replaced with <code>s_</code>; this was not a problem created by mrgsolve but rather by ggplot2, which calls <code><a href="http://www.rdocumentation.org/packages/mgcv/topics/s">mgcv::s</a></code> via <code>geom_smooth</code> under certian circumstances</p></li>
</ul>
</div>
    <div id="mrgsolve-0-8-10-9015" class="section level1">
<h1 class="page-header">
<a href="#mrgsolve-0-8-10-9015" class="anchor"></a>mrgsolve 0.8.10.9015<small> Unreleased </small>
</h1>
<ul>
<li>Re-configured the list of data coming from <code>as.list.mrgmod</code> so that the names match the names that you would pass to <code>update.mrgmod</code>; also added some items so that all updateable slots in the model object are exported by calling <code>as.list</code> <a href='https://github.com/metrumresearchgroup/mrgsolve/issues/354'>#354</a></li>
</ul>
</div>
    <div id="mrgsolve-0-8-10-9014" class="section level1">
<h1 class="page-header">
<a href="#mrgsolve-0-8-10-9014" class="anchor"></a>mrgsolve 0.8.10.9014<small> Unreleased </small>
</h1>
<ul>
<li>Add OMEGA and SIGMA matrices to <code>as.list.mrgmod</code> output under the names omat and smat, respectively</li>
<li>It is no longer an error to attempt to update slots for OMEGA and SIGMA matrices when there is no matrices in the slot as long as the update is with an empty list or a matrix with zero rows</li>
<li>Fix segmentation fault when both data set and idata set are used in a simulation with certain mis-matches in the ID content between the two <a href='https://github.com/metrumresearchgroup/mrgsolve/issues/352'>#352</a></li>
</ul>
</div>
    <div id="mrgsolve-0-8-10-9013" class="section level1">
<h1 class="page-header">
<a href="#mrgsolve-0-8-10-9013" class="anchor"></a>mrgsolve 0.8.10.9013<small> Unreleased </small>
</h1>
<ul>
<li>Removes more mtime code (wasn’t in use)</li>
</ul>
</div>
    <div id="mrgsolve-0-8-10-9012" class="section level1">
<h1 class="page-header">
<a href="#mrgsolve-0-8-10-9012" class="anchor"></a>mrgsolve 0.8.10.9012<small> Unreleased </small>
</h1>
<ul>
<li>Use <code><a href="http://dplyr.tidyverse.org/reference/se-deprecated.html">dplyr::filter_</a></code> for <code>filter_.ev</code>
</li>
</ul>
</div>
    <div id="mrgsolve-0-8-10-9011" class="section level1">
<h1 class="page-header">
<a href="#mrgsolve-0-8-10-9011" class="anchor"></a>mrgsolve 0.8.10.9011<small> Unreleased </small>
</h1>
<ul>
<li>mtime clear bug</li>
</ul>
</div>
    <div id="mrgsolve-0-8-10-9010" class="section level1">
<h1 class="page-header">
<a href="#mrgsolve-0-8-10-9010" class="anchor"></a>mrgsolve 0.8.10.9010<small> Unreleased </small>
</h1>
<ul>
<li>Fixed bug in <code>filter.ev</code> method</li>
</ul>
</div>
    <div id="mrgsolve-0-8-10-9009" class="section level1">
<h1 class="page-header">
<a href="#mrgsolve-0-8-10-9009" class="anchor"></a>mrgsolve 0.8.10.9009<small> Unreleased </small>
</h1>
<ul>
<li>Added <code>mutate_sims</code> and <code>filter_sims</code> that work on <code>mrgsims</code> (output) objects, modifying the <code>data</code> slot and returning a modified <code>mrgsims</code> object rather than <code>data.frame</code>
</li>
<li>Added <code>plot_sims</code> function that takes a data frame of simulated output and generates a plot using the <code>mrgsims</code> method</li>
</ul>
</div>
    <div id="mrgsolve-0-8-10-9008" class="section level1">
<h1 class="page-header">
<a href="#mrgsolve-0-8-10-9008" class="anchor"></a>mrgsolve 0.8.10.9008<small> Unreleased </small>
</h1>
<ul>
<li>Changed <code>id</code> argument to <code>ID</code> in <code>ev_rep</code> and <code>ev_seq</code>; a warning is issued if <code>id</code> is used</li>
<li>Added <code>data_qsim</code> for creating input data sets to use with <code>qsim</code>
</li>
<li>Fixed a bug where time after dose was not correctly calculated for additional doses with a lag time <a href='https://github.com/metrumresearchgroup/mrgsolve/issues/327'>#327</a></li>
<li>Added <code>read_nmext</code> to read in nonmem model output from the .ext file</li>
</ul>
</div>
    <div id="mrgsolve-0-8-10-9007" class="section level1">
<h1 class="page-header">
<a href="#mrgsolve-0-8-10-9007" class="anchor"></a>mrgsolve 0.8.10.9007<small> Unreleased </small>
</h1>
<ul>
<li>Clean up and re-organize Rd files; more-logical grouping and ordering</li>
</ul>
</div>
    <div id="mrgsolve-0-8-10-9006" class="section level1">
<h1 class="page-header">
<a href="#mrgsolve-0-8-10-9006" class="anchor"></a>mrgsolve 0.8.10.9006<small> Unreleased </small>
</h1>
<ul>
<li>Stop importing assertthat and lazyeval</li>
</ul>
</div>
    <div id="mrgsolve-0-8-10-9005" class="section level1">
<h1 class="page-header">
<a href="#mrgsolve-0-8-10-9005" class="anchor"></a>mrgsolve 0.8.10.9005<small> Unreleased </small>
</h1>
<div id="new-features-1" class="section level2">
<h2 class="hasAnchor">
<a href="#new-features-1" class="anchor"></a>New Features</h2>
<ul>
<li>Added better support for writing model files with any extension. For example, <code><a href="../reference/mread.html">mread("mymodel.txt")</a></code> will read from the file <code>mymodel.txt</code> if it exists. However, the default behavior remains unchanged so that <code><a href="../reference/mread.html">mread("mymodel")</a></code> will expect to find the model in the file <code>mymodel.cpp</code>.</li>
</ul>
</div>
<div id="bug-fixes" class="section level2">
<h2 class="hasAnchor">
<a href="#bug-fixes" class="anchor"></a>Bug Fixes</h2>
<ul>
<li>Fixed bug where the md5 value on the model file cound not be calculated under certain <code>project</code> path formulations <a href='https://github.com/metrumresearchgroup/mrgsolve/issues/315'>#315</a></li>
</ul>
</div>
<div id="important-changes" class="section level2">
<h2 class="hasAnchor">
<a href="#important-changes" class="anchor"></a>Important changes</h2>
<ul>
<li><p>The <code>realize_addl</code> function was re-factored to better account for time-varying data items; more option are provided for seeing where rows were inserted into the data set and whether to make assumptions about other data in those rows or not</p></li>
<li><p>mrgsolve no longer utilizes any functions from the XML package. All previous functionality that depended on XML now depends on xml2. As such, xml2 is listed under the Suggests dependency.</p></li>
<li><p>When using <code>$NMXML</code>, the <code>$OMEGA</code> and <code>$SIGMA</code> matrices are now loaded by default; see new default arguments to <code>mrgsolve:::nmxml</code></p></li>
</ul>
</div>
<div id="documentation" class="section level2">
<h2 class="hasAnchor">
<a href="#documentation" class="anchor"></a>Documentation</h2>
<ul>
<li>Added <code>solversettings</code> help topic that identifies some of the DLSODA inputs you can tweak</li>
<li>Improved doumentation for <code>update</code> method as well as <code>mrgmod-class</code>
</li>
</ul>
</div>
</div>
    <div id="mrgsolve-0-8-10-9003" class="section level1">
<h1 class="page-header">
<a href="#mrgsolve-0-8-10-9003" class="anchor"></a>mrgsolve 0.8.10.9003<small> Unreleased </small>
</h1>
<div id="new-features-2" class="section level2">
<h2 class="hasAnchor">
<a href="#new-features-2" class="anchor"></a>New Features</h2>
<ul>
<li><p>Bioavability specified in <code>$MAIN</code> is accounted for when simulating with <code>qsim</code>; there is still no bioavability adjustment for infusions or lag times adjustments to doses</p></li>
<li><p>Added capability to rename data items in <code>$CAPTURE</code>; also, names are partially sanitized, removing parens and brackets.<br>
For example <code>$CAPTURE WT = WGT ETA(1) TVCL = THETA1</code></p></li>
<li><p>Added <code>qsim_df</code> function, retruning data frame rather than matrix</p></li>
<li><p>Added <code>as.list</code> method for <code>mrgsims</code> objects</p></li>
<li><p>Added <code>deep</code> argument for <code>as.list</code> method for <code>mrgmod</code> object; it was taking a lot of time to return the function set, so now you only get it if <code>deep = TRUE</code></p></li>
<li><p>Added <code>mrgsim</code> variant functions with explicit input requirements written into the function name. For example, call <code>mrgsim_e</code> to simulate from an event object, <code>mrgsim_d</code> to simulate from a data frame. All of these functions are called by <code>mrgsim</code>.</p></li>
<li><p>Added method so that event objects can be passed to <code>data_set</code>; also, coercing event objects to <code>data_set</code> when passed in as <code>data</code></p></li>
<li><p>Added <code>all.equal.mrgmod</code> function to compare two model objects. The function returns logical (only)</p></li>
<li><p>Added <code>env_get_env</code> that always just returns the model environment; it has identical result as <code><a href="../reference/env_get.html">env_get(mod, tolist = FALSE)</a></code></p></li>
<li><p>Change <code>mread_cache</code> and <code>mcode_cache</code> so that the cache is invalidated when <code>preclean</code> argument is <code>TRUE</code></p></li>
</ul>
</div>
<div id="bug-fixes-1" class="section level2">
<h2 class="hasAnchor">
<a href="#bug-fixes-1" class="anchor"></a>Bug Fixes</h2>
<ul>
<li>Fixed bug preventing simulation with <code>qsim</code> with no event</li>
</ul>
</div>
<div id="functions-removed" class="section level2">
<h2 class="hasAnchor">
<a href="#functions-removed" class="anchor"></a>Functions removed</h2>
<ul>
<li>
<code>mrgsolve_example</code> and <code>mrgsolve_template</code>; these had been deprecated previously with warning; use <code><a href="../reference/modlib.html">modlib()</a></code> models instead</li>
</ul>
</div>
</div>
    <div id="mrgsolve-0-8-10-9002" class="section level1">
<h1 class="page-header">
<a href="#mrgsolve-0-8-10-9002" class="anchor"></a>mrgsolve 0.8.10.9002<small> Unreleased </small>
</h1>
<ul>
<li>Added <code>mrgsim_df</code> function to return data frame rather than <code>mrgsims</code> object</li>
</ul>
</div>
    <div id="mrgsolve-0-8-10-9001" class="section level1">
<h1 class="page-header">
<a href="#mrgsolve-0-8-10-9001" class="anchor"></a>mrgsolve 0.8.10.9001<small> Unreleased </small>
</h1>
<ul>
<li>The model environment is automatically imported as <code>_env</code> when <code>mrgx</code> plugin is invoked</li>
</ul>
</div>
    <div id="mrgsolve-0-8-10" class="section level1">
<h1 class="page-header">
<a href="#mrgsolve-0-8-10" class="anchor"></a>mrgsolve 0.8.10<small> 2017-11-01 </small>
</h1>
<ul>
<li>Release to CRAN</li>
</ul>
</div>
    <div id="mrgsolve-0-8-9-9004" class="section level1">
<h1 class="page-header">
<a href="#mrgsolve-0-8-9-9004" class="anchor"></a>mrgsolve 0.8.9.9004<small> Unreleased </small>
</h1>
<ul>
<li><p>Added <code>file</code> argument to <code>mread</code> to allow coding model specification files with any extension. The current behavior continues to be assuming that the model is in a <code>.cpp</code> file, but using the <code>file</code> argument allows any file name for model specification.</p></li>
<li><p>Added <code>nocb</code> argument to <code>mrgsim</code>. If <code>nobc</code> is <code>TRUE</code> (default), <code>mrgsim</code> continues to use next observation carried forward to advance the system when there are time-varying parameters (including covariates). If <code>nocb</code> is <code>FALSE</code>, <code>mrgsim</code> will use last observation carried forward (<code>locf</code>) to advance the system when there are time-varying parameters.</p></li>
</ul>
</div>
    <div id="mrgsolve-0-8-9-9003" class="section level1">
<h1 class="page-header">
<a href="#mrgsolve-0-8-9-9003" class="anchor"></a>mrgsolve 0.8.9.9003<small> Unreleased </small>
</h1>
<ul>
<li>Minor improvements to documentation</li>
</ul>
</div>
    <div id="mrgsolve-0-8-9-9002" class="section level1">
<h1 class="page-header">
<a href="#mrgsolve-0-8-9-9002" class="anchor"></a>mrgsolve 0.8.9.9002<small> Unreleased </small>
</h1>
<div id="bug-fix" class="section level2">
<h2 class="hasAnchor">
<a href="#bug-fix" class="anchor"></a>Bug Fix</h2>
<ul>
<li>Fixed bug where deslist was created in the wrong order</li>
<li>Fixed bug where infusion duration was incorrect when paired with non-zero lag time (test added)</li>
<li>Fixed bug where <code>self</code> object was not correctly updated for the first record for an individual (<a href='https://github.com/metrumresearchgroup/mrgsolve/issues/273'>#273</a>)</li>
</ul>
</div>
<div id="important-changes-1" class="section level2">
<h2 class="hasAnchor">
<a href="#important-changes-1" class="anchor"></a>Important changes</h2>
<ul>
<li>Add support for dosing records with both lag time and ss flag; an error message will be generated if lag time is greater than ii or if lag time + infusion duration is greater than ii.</li>
<li>The behavior of <code>ev_assign</code> is changed so that the unique values of <code>evgroup</code> are sorted prior to making event assignments. Details about the new behavior are now included in the R help topic.</li>
</ul>
</div>
</div>
    <div id="mrgsolve-0-8-6-9000" class="section level1">
<h1 class="page-header">
<a href="#mrgsolve-0-8-6-9000" class="anchor"></a>mrgsolve 0.8.6.9000<small> Unreleased </small>
</h1>
<div id="important-changes-2" class="section level2">
<h2 class="hasAnchor">
<a href="#important-changes-2" class="anchor"></a>Important changes</h2>
<ul>
<li>The bioavailability parameter now gets updated with each and every dose, regardless of whether it was explicitly coded in the data set or implicitly via <code>addl</code>. The previous behavior had bioavailability parameter locked at the value at the time the initiating dose was implemented</li>
<li>Updated package dependency requirements. Notably, mrgsolve now requires <code>Rcpp &gt;= 0.12.12</code> and <code>dplyr &gt;= 0.7.1</code>
</li>
</ul>
</div>
<div id="new-features-3" class="section level2">
<h2 class="hasAnchor">
<a href="#new-features-3" class="anchor"></a>New Features</h2>
<ul>
<li>Dosing records with <code>ss=2</code> are recognized, allowing combining of steady-state dosing regimens under linear kinetics (e.g. 10 mg QAM and 20 mg QPM) (<a href='https://github.com/metrumresearchgroup/mrgsolve/issues/221'>#221</a>)</li>
<li>Added function (<code>inventory</code>) that reconciles model parameters with names in an object (e.g. a simulation data set) verify that required parameters can be found in the data object.</li>
</ul>
</div>
<div id="bugs-fixed" class="section level2">
<h2 class="hasAnchor">
<a href="#bugs-fixed" class="anchor"></a>Bugs fixed</h2>
<ul>
<li>PR <a href='https://github.com/metrumresearchgroup/mrgsolve/issues/214'>#214</a> from <a href='http://github.com/dastoor'>@dastoor</a> fixes compatibility issue with new <code>dplyr</code>
</li>
<li>Fixed bug in <code>deslist</code> implementation <a href='https://github.com/metrumresearchgroup/mrgsolve/issues/222'>#222</a></li>
<li>PR <a href='https://github.com/metrumresearchgroup/mrgsolve/issues/238'>#238</a> fixes incorrect steady-state values when dose is associated with lagtime (<a href='https://github.com/metrumresearchgroup/mrgsolve/issues/239'>#239</a>)</li>
</ul>
</div>
</div>
    <div id="mrgsolve-0-8-4" class="section level1">
<h1 class="page-header">
<a href="#mrgsolve-0-8-4" class="anchor"></a>mrgsolve 0.8.4<small> Unreleased </small>
</h1>
<ul>
<li>Reconfigure use of function pointer in unit tests</li>
</ul>
</div>
    <div id="mrgsolve-0-8-3" class="section level1">
<h1 class="page-header">
<a href="#mrgsolve-0-8-3" class="anchor"></a>mrgsolve 0.8.3<small> Unreleased </small>
</h1>
<ul>
<li>Bug fix that prevented installation on Solaris</li>
</ul>
</div>
    <div id="mrgsolve-0-8-2" class="section level1">
<h1 class="page-header">
<a href="#mrgsolve-0-8-2" class="anchor"></a>mrgsolve 0.8.2<small> 2017-03-11 </small>
</h1>
<ul>
<li>The first release on CRAN</li>
</ul>
</div>
    <div id="mrgsolve-0-7-7" class="section level1">
<h1 class="page-header">
<a href="#mrgsolve-0-7-7" class="anchor"></a>mrgsolve 0.7.7<small> Unreleased </small>
</h1>
<div id="new-authors" class="section level2">
<h2 class="hasAnchor">
<a href="#new-authors" class="anchor"></a>New Authors</h2>
<ul>
<li>Devin Pastoor is now listed as a contributor. Thanks for all of your help!</li>
</ul>
</div>
<div id="new-features-4" class="section level2">
<h2 class="hasAnchor">
<a href="#new-features-4" class="anchor"></a>New Features</h2>
<ul>
<li>Added automatic, on-demand output of time-after-dose (<code>tad</code>) in the simulated output. Use <code><a href="../reference/mrgsim.html">mrgsim(tad=TRUE)</a></code>.</li>
<li>Several new functions added to <code>$PLUGIN mrgx</code>, including <code>mrgx::get&lt;T&gt;</code> for getting objects out of <code>$ENV</code> or a package namespace and <code>mrgx::mt_fun()</code> that is just a function that you can assign when declaring <code>Rcpp::Function</code>.</li>
<li>Added <code>object</code> argument to <code>idata_set</code> and <code>data_set</code> to get a <code>data.frame</code> (or function to call that returns <code>data.frame</code>) out of <code>$ENV</code> to use for simulation.</li>
</ul>
</div>
<div id="changes-additions" class="section level2">
<h2 class="hasAnchor">
<a href="#changes-additions" class="anchor"></a>Changes / additions</h2>
<ul>
<li>Added <code>cmt</code> argument to <code>$PKMODEL</code>. When <code>cmt</code> is set to a character vector or a comma-separated string, <code>$PKMODEL</code> infers the number of compartments and declares them in the model. This means a separate <code>$CMT</code> block is not required when using <code>$PKMODEL</code>.</li>
<li>Added <code>cols</code> argument to <code>as_bmat</code> and <code>as_dmat</code> so that a character vector of names can be specified (rather than regular expression) to select data for creating matrix.</li>
<li>The <code>preclean</code> argument now causes <code>unlink</code> to be called on the model build directory.</li>
<li>Added several functions to help work with <code>$ENV</code>: <code>ls_env</code>, <code>get_env</code>, <code>re_eval_env</code>, <code>update_env</code>.</li>
<li>When a dose is administered into a compartment that is off, the compartment is now turned on and the dosing is allowed to proceed. This is a change from previous behavior, where an error was generated.</li>
</ul>
</div>
</div>
    <div id="mrgsolve-0-7-6" class="section level1">
<h1 class="page-header">
<a href="#mrgsolve-0-7-6" class="anchor"></a>mrgsolve 0.7.6<small> Unreleased </small>
</h1>
<div id="important-changes-3" class="section level2">
<h2 class="hasAnchor">
<a href="#important-changes-3" class="anchor"></a>Important changes</h2>
<ul>
<li>The <code>table()</code> macro in <code>$TABLE</code> is now deprecated (<a href="https://github.com/metrumresearchgroup/mrgsolve/pull/129" class="uri">https://github.com/metrumresearchgroup/mrgsolve/pull/129</a>). To get derived values into the simulated output, users should assign to type <code>double</code> and list that variable name in <code>$CAPTURE</code>. See also the <code>capture</code> typedef introduced below.</li>
<li>The <code>mrgx</code> plugin was completely removed.<br>
</li>
<li>Parameter updates via <code>param</code> method with signature <code>missing</code> will check names of input parameters against names of existing parameters. An error is generated if a user attempts to update a parameter that doesn’t exist. Note that this does not apply for the <code>param</code> method with signature <code>list</code> (<a href='https://github.com/metrumresearchgroup/mrgsolve/issues/144'>#144</a>).</li>
<li>The git repository was re-organized so that the package lives in the base directory (PR <a href='https://github.com/metrumresearchgroup/mrgsolve/issues/171'>#171</a>).</li>
</ul>
</div>
<div id="features" class="section level2">
<h2 class="hasAnchor">
<a href="#features" class="anchor"></a>Features</h2>
<ul>
<li>Added <code>@</code> macros for indicating block options in model specification file.</li>
<li>Added <code>qsim</code> function for quick(er) simulation runs with just one parameter set.<br>
</li>
<li>Added <code>recmatrix</code> that creates matrix simulation template for <code>qsim</code>.</li>
<li>Added <code>mrgsolve:::render</code> to create a document with overview of model contents. Methods for both <code>mrgmod</code> objects and <code>character</code> strings pointing to a model file.</li>
<li>Use <code>mrgsolve:::details</code> to extract model annotation.</li>
<li>Added <code>capture</code> typedef in the model specification file. Variables that are type <code>capture</code> are doubles and are automatically appended to <code>$CAPTURE</code>.<br>
The <code>capture</code> typedef is not allowed in <code>$ODE</code> and probably should be reserved for <code>$TABLE</code>.</li>
<li>
<code>simeta</code> is available in <code>$MAIN</code> and <code>simeps</code> is available in <code>$TABLE</code> by default, no <code>$PLUGIN</code> is required.</li>
<li>Better support for including <code>R</code> objects in the model via <code>$ENV</code> (<a href='https://github.com/metrumresearchgroup/mrgsolve/issues/158'>#158</a>).</li>
<li>Added <code>assign_ev</code> function to help build simulation data sets from event objects (<a href="https://github.com/metrumresearchgroup/mrgsolve/pull/164" class="uri">https://github.com/metrumresearchgroup/mrgsolve/pull/164</a>).</li>
<li>Added <code>as_data_frame</code> method from the <code>tibble</code> package (<a href='https://github.com/metrumresearchgroup/mrgsolve/issues/166'>#166</a>).</li>
<li>When annotating model blocks, mrgsolve takes the <strong>last</strong> parens item as the “units” and the <strong>last</strong> bracketed item as “options”</li>
<li>Added <code>$</code> operator for <code>mrgmod</code> objects to return the value of a parameter (99748d8a7e4976fc710152c2dfc82da9b059a852).</li>
<li>Added <code>mread_cache</code> and <code>mcode_cache</code> functions to build and cache a model (<a href='https://github.com/metrumresearchgroup/mrgsolve/issues/143'>#143</a>).</li>
</ul>
</div>
<div id="bugs-fixed-1" class="section level2">
<h2 class="hasAnchor">
<a href="#bugs-fixed-1" class="anchor"></a>Bugs fixed</h2>
<ul>
<li>Fixed documentation issue in <code>PKMODEL</code>. The volumes for two-compartment model with no depot should be <code>V1</code>/<code>V2</code>.</li>
<li>Fixed bug in <code>knobs</code> where output column names are mal-formed when a user <code>$CAPTURE</code>s a parameter that is also being tweaked as a knob.</li>
<li>Fixed bug in annotated model specification when multiple unit or option specifications are made.</li>
</ul>
</div>
<div id="under-the-hood" class="section level2">
<h2 class="hasAnchor">
<a href="#under-the-hood" class="anchor"></a>Under the hood</h2>
<ul>
<li>User-declared <code>double/int/bool</code> in <code>$MAIN</code>, <code>$ODE</code>, <code>$TABLE</code> are kept in unnamed namespace and are local to the file.</li>
<li>Started to re-organize the <code>.R</code> files.</li>
<li>
<code>mrgsolve:::details</code> returns a data frame of information regardless of whether the model was annotated or not (<a href='https://github.com/metrumresearchgroup/mrgsolve/issues/165'>#165</a>).</li>
<li>
<code><a href="../reference/details.html">mrgsolve::details</a></code> has additional arguments to help control output.</li>
<li>Removed <code>pkevent</code> class; all records are <code>datarecord</code>.</li>
</ul>
</div>
</div>
    <div id="mrgsolve-0-7-5" class="section level1">
<h1 class="page-header">
<a href="#mrgsolve-0-7-5" class="anchor"></a>mrgsolve 0.7.5<small> Unreleased </small>
</h1>
<div id="features-1" class="section level2">
<h2 class="hasAnchor">
<a href="#features-1" class="anchor"></a>Features</h2>
<ul>
<li>Added annotated code blocks for <code>$PARAM</code>, <code>$FIXED</code>, <code>$THETA</code>, <code>$CMT</code>, <code>$INIT</code>, and <code>$VCMT</code>. (<a href='https://github.com/metrumresearchgroup/mrgsolve/issues/107'>#107</a>)</li>
<li>
<code>mrgsolve:::house()</code> model re-coded as an annotated model.</li>
<li>Re-implemented <code>$ENV</code> to allow users to create <code>R</code> objects that can be used at certain points when parsing the model. (<a href='https://github.com/metrumresearchgroup/mrgsolve/issues/115'>#115</a>)</li>
<li>Added <code>&gt;&gt;</code> signifier to code blocks that allow options; <code>&gt;&gt;</code> at the beginning of the line indicates that the <code>name=value</code> statements that follow are to be parsed as block options.</li>
<li>Added <code>object</code> argument for the following blocks: <code>$PARAM</code>, <code>$OMEGA</code>, <code>$SIGMA</code>, <code>$FIXED</code>, <code>$CMT</code>. When <code>object</code> is set to a character string naming an object in <code>$ENV</code>, that object will be used to form the output from the block.</li>
</ul>
</div>
<div id="bugs-fixed-2" class="section level2">
<h2 class="hasAnchor">
<a href="#bugs-fixed-2" class="anchor"></a>Bugs fixed</h2>
<ul>
<li>Fixed a bug which caused simulation run to hang when implementing a dose with a <strong>very</strong> small lag time. (<a href='https://github.com/metrumresearchgroup/mrgsolve/issues/109'>#109</a>)</li>
<li>Fixed a bug where <code>valid.numericlist</code> wasn’t returning <code>FALSE</code> for improperly-formed objects.</li>
</ul>
</div>
<div id="under-the-hood-1" class="section level2">
<h2 class="hasAnchor">
<a href="#under-the-hood-1" class="anchor"></a>Under the hood</h2>
<ul>
<li>Now using an <code>environment</code> to collect objects when parsing the model specification file.</li>
<li>Some small changes to <code>C++</code> code that calculates compartment amounts for closed form one- and two-compartment models resulting in faster simulation runs.</li>
</ul>
</div>
</div>
    <div id="mrgsolve-0-7-4" class="section level1">
<h1 class="page-header">
<a href="#mrgsolve-0-7-4" class="anchor"></a>mrgsolve 0.7.4<small> Unreleased </small>
</h1>
<ul>
<li>The <code>modmrg</code> package was discontinued. All of the pre-coded models are now available in mrgsolve. Simply call <code>mread</code> with the model stem (e.g. <code>pk1cmt</code>, <code>irm3</code>, etc …) and call <code><a href="../reference/modlib.html">modlib()</a></code> as the <code>project</code> argument.<br>
For example: <code>mod &lt;- mread("emax", modlib())</code> will compile the <code>emax</code> model and return the model object.</li>
</ul>
</div>
    <div id="mrgsolve-0-7-3" class="section level1">
<h1 class="page-header">
<a href="#mrgsolve-0-7-3" class="anchor"></a>mrgsolve 0.7.3<small> Unreleased </small>
</h1>
<ul>
<li>Tests re-configured</li>
<li>Fixed issue with record sorting for lagged doses when using full <code>data_set</code>and <code>obsaug=TRUE</code> (<a href='https://github.com/metrumresearchgroup/mrgsolve/issues/102'>#102</a>)</li>
<li>Fixed issue where <code>idata_set</code> wasn’t handled properly when it was passed in as <code>tbl</code> (<a href='https://github.com/metrumresearchgroup/mrgsolve/issues/100'>#100</a>)</li>
</ul>
</div>
    <div id="mrgsolve-0-7-2" class="section level1">
<h1 class="page-header">
<a href="#mrgsolve-0-7-2" class="anchor"></a>mrgsolve 0.7.2<small> Unreleased </small>
</h1>
<ul>
<li>Addressed an issue where model compilation on <code>Windows</code> systems failed when certain symbol names were used in the model (<a href='https://github.com/metrumresearchgroup/mrgsolve/issues/97'>#97</a>). In this release, a <code>dllname-win.def</code> file is created in <code>soloc</code> to export only the functions that mrgsolve needs to use. This is <em>only</em> relevant to <code>Windows</code> platform.</li>
<li>Added a check on the <code>project</code> argument to <code>mread</code>: if newline(s) are found, an error is generated and the user is prompted to use <code>mcode</code> instead.</li>
<li>Several changes under the hood (<a href="https://github.com/metrumresearchgroup/mrgsolve/pull/99" class="uri">https://github.com/metrumresearchgroup/mrgsolve/pull/99</a>)</li>
</ul>
</div>
    <div id="mrgsolve-0-7-1" class="section level1">
<h1 class="page-header">
<a href="#mrgsolve-0-7-1" class="anchor"></a>mrgsolve 0.7.1<small> Unreleased </small>
</h1>
<ul>
<li>Fixed bug where requested columns were not properly named in certain circumstances (<a href='https://github.com/metrumresearchgroup/mrgsolve/issues/86'>#86</a>).</li>
</ul>
</div>
    <div id="mrgsolve-0-7-0" class="section level1">
<h1 class="page-header">
<a href="#mrgsolve-0-7-0" class="anchor"></a>mrgsolve 0.7.0<small> Unreleased </small>
</h1>
<ul>
<li>Revert back to previous behavior where <code>cwd</code> to <code>soloc</code> is not required to build the model. This was only required on <code>Windows</code> systems where there was a space in the file name. Correctly rendering the path for the build directory now.</li>
</ul>
</div>
    <div id="mrgsolve-0-6-1" class="section level1">
<h1 class="page-header">
<a href="#mrgsolve-0-6-1" class="anchor"></a>mrgsolve 0.6.1<small> Unreleased </small>
</h1>
<div id="features-2" class="section level2">
<h2 class="hasAnchor">
<a href="#features-2" class="anchor"></a>Features</h2>
<ul>
<li>Added <code>as_data_set</code> to convert one or more event objects into a data frame that can be passed to <code>data_set</code>. Does something similar to <code>expand.ev</code>, but more control.</li>
<li>For special column names (<code>time</code>, <code>amt</code>, <code>rate</code>, <code>evid</code>, <code>ii</code>, <code>addl</code> ,<code>ss</code>, <code>cmt</code>) either lower case or upper case names are recognized. The determination is made on the <code>time</code> / <code>TIME</code> column (always required when using a data set). If <code>time</code> mrgsolve will continue looking for lower case names; if <code>TIME</code> it will look for upper case names. A warning is issued in case both upper and lower case names are included.</li>
<li>Added <code>$PLUGIN</code> to let users extend their model specification file. Valid plugins include <code>simeta</code>, <code>Rcpp</code>, <code>RcppArmadillo</code>, and <code>BH</code>. When a plugin is used, mrgsolve will link back the the appropriate package and possibly include appropriate header files when compiling the model. For example, <code>simeta</code> will link back to mrgsolve and <code>RcppArmadillo</code> and allow the modeler to simulate a new set of <code>ETA</code>s. Use <code>Rcpp</code> plugin to simulate random variates from common distibutions in <code>R</code>(e.g. <code>rnorm</code>, <code>rexp</code> etc … ).</li>
</ul>
</div>
<div id="bugs-fixed-3" class="section level2">
<h2 class="hasAnchor">
<a href="#bugs-fixed-3" class="anchor"></a>Bugs fixed</h2>
<ul>
<li>Fixed issue with <code>ev</code> where no rows were returned if <code>amt</code> wasn’t supplied (<a href='https://github.com/metrumresearchgroup/mrgsolve/issues/44'>#44</a>).</li>
<li>Shortened the path for both the shared object and the name of the <code>.cpp.cpp</code> file when compiling.</li>
<li>Fixed bug in <code>touch_funs</code> when large number (<code>&gt; 25</code>) of ETAs in the model (<a href='https://github.com/metrumresearchgroup/mrgsolve/issues/68'>#68</a>).</li>
</ul>
</div>
<div id="important-changes-4" class="section level2">
<h2 class="hasAnchor">
<a href="#important-changes-4" class="anchor"></a>Important changes</h2>
<ul>
<li>When using <code>$PKMODEL</code> with <code>ncmt=2</code> and <code>depot=FALSE</code>, the default PK parameters are <code>CL</code>, <code>V1</code> (central volume), <code>Q</code>, <code>V2</code> (peripheral volume).<br>
This is a change where the previous volumes were <code>V2</code> (central) and <code>V3</code> (peripheral).</li>
<li>
<code>$CAPTURE</code> now saves output items to slots in <code>std::vector&lt;double&gt;</code>, rather than <code>std::map&lt;std::string,double&gt;</code>. We’ve known for a while that the <code>std::map</code> wasn’t very efficient especially with large simulations.<br>
Currently, items in <code>$TABLE</code> are still saved into <code>std::map</code> with <code>table()</code> macro. The plan going forward is to eliminate that <code>table</code> <code>map</code> and force output variables into <code>$CAPTURE</code>.</li>
<li>Due to major changes to <code>dplyr</code>, now requiring <code>dplyr &gt;= 0.5.0</code> (<a href='https://github.com/metrumresearchgroup/mrgsolve/issues/69'>#69</a>)</li>
<li>The <code>data</code> slot in <code>mrgsims</code> objects is now <code>data.frame</code>
</li>
<li>The <code>knobs</code> function and <code>plot</code> method has been re-written. Overall behavior for most applications should be the same.</li>
</ul>
</div>
<div id="under-the-hood-2" class="section level2">
<h2 class="hasAnchor">
<a href="#under-the-hood-2" class="anchor"></a>Under the hood</h2>
<ul>
<li>
<code>C++</code> symbols for model functions are now stored in the model object (<code>funs</code> slot)</li>
<li>The status of the model object (function names and compile status) can be checked with <code>mrgsolve:::funset(mod)</code>
</li>
<li>A model is considered to be loaded and ready to go if all functions in <code>funs</code> can be found with <code>is.loaded</code>
</li>
<li>Model shared objects are still stored within the <code>soloc</code> directory (by default <code>tempdir()</code>), but mrgsolve will create a subdirectory structure to organize compilation artifacts. The outer directory is keyed based on the current mrgsolve version number and the computer platform. Inner directories are based on the model name (<code>model(mod)</code>).<br>
</li>
<li>A source file is created based on the <code>model</code> name and the shared object is created based on that name. If the compilation is successful, the shared object (<code>.so</code> on mac/unix, <code>.dll</code> on Windows) is copied to a <code>.so</code> or <code>.dll</code> file with a unique stem (e.g. <code>model2lj239wsfo.so</code>). This unique shared object is loaded into the <code>R</code> process for use with the model.<br>
</li>
<li>Every time the model is rebuilt, the build directory is scanned for shared object files. Excluding the main model shared object (unchanging name based on the model), old shared object files are deleted and, if currently loaded (<code>getLoadedDLLs()</code>), are attempted to be <code>dyn.unload</code>ed.</li>
<li>Upon model rebuild (via <code>mread</code> or <code>mcode</code>), if there are no changes to the source <code>.cpp</code> file, the source is not overwritten. In that case, <code>make</code> will not re-build the shared object. Using the <code>preclean</code> argument will force re-compilation (see <code>R CMD SHLIB</code>).</li>
<li>The header files <code>modelheader.h</code> and <code>mrgsolv.h</code> are no longer copied into the project directory. But <code>CLINK_CPPFLAGS</code> environment variable is modlifed to include <code>&lt;path-to-mrgsolve-package&gt;/inst/base</code> so that these may be linked.</li>
<li>The <code>R CMD SHLIB</code> build process always uses <code>intern=TRUE</code> so that output is suppressed on both <code>Windows</code> and <code>mac/unix</code>. The user may still request to view build output with the <code>ignore.stdout</code> argument.</li>
<li>Model build always links-to the <code>project</code> directory to look for <code>C++</code> header files. When including a header file that may change from build to build, always run with <code>preclean=TRUE</code>.</li>
<li>mrgsolve now changes the working directory prior to building a model.<br>
The working directory is restored on exit from <code>mread</code>.</li>
</ul>
</div>
<div id="deprecated" class="section level2">
<h2 class="hasAnchor">
<a href="#deprecated" class="anchor"></a>Deprecated</h2>
<ul>
<li>The entire <code>complog</code> system, including:
<ul>
<li>
<code>comp_forget</code> a message is issued</li>
<li>
<code>complog</code> no message is issued</li>
</ul>
</li>
<li>
<code>trequest</code> argument to <code>mrgsim</code>
</li>
</ul>
</div>
</div>
    <div id="mrgsolve-0-6-0" class="section level1">
<h1 class="page-header">
<a href="#mrgsolve-0-6-0" class="anchor"></a>mrgsolve 0.6.0<small> Unreleased </small>
</h1>
<div id="bugs-fixed-4" class="section level2">
<h2 class="hasAnchor">
<a href="#bugs-fixed-4" class="anchor"></a>Bugs fixed</h2>
<ul>
<li>Fixed a bug when an infusion was attempted with <code>rate &gt; 0</code> and <code>amt==0</code>.<br>
Additionally, an error is generated when an infusion is attempted with zero <code>amt</code> (<a href="../../issues/43">issue 43</a>).</li>
</ul>
</div>
</div>
    <div id="mrgsolve-0-5-12" class="section level1">
<h1 class="page-header">
<a href="#mrgsolve-0-5-12" class="anchor"></a>mrgsolve 0.5.12<small> Unreleased </small>
</h1>
<div id="bugs-fixed-5" class="section level2">
<h2 class="hasAnchor">
<a href="#bugs-fixed-5" class="anchor"></a>Bugs fixed</h2>
<ul>
<li>Fixed a bug where infusion dosing events with <code>evid 4</code> were not properly implemented. While investigating that issue, also found similar issue with <code>evid 4</code> infusions getting scheduled with <code>addl</code> (<a href="../../issues/31">issue 31</a>).</li>
<li>Removed NSE evaluation for arguments passed into <code>ev</code> to avoid unintended issues in evaluation (<a href="../../issues/29">issue 29</a>).</li>
</ul>
</div>
<div id="new-features-5" class="section level2">
<h2 class="hasAnchor">
<a href="#new-features-5" class="anchor"></a>New features</h2>
<ul>
<li>Added <code>mcode</code> function as alternative to using <code>mread</code> when your model is written in an <code>R</code> string. Note the order of the arguments: first <code>model</code>, then <code>code</code>, then <code>project</code>. <code>project</code> defaults to <code>tempdir</code>.<br>
So the call is: <code>mod &lt;- mcode("mymodel", code)</code>. The equivalent <code>mread</code> call is: <code>mod &lt;- mread("mymodel", tempdir(),code)</code>.</li>
<li>
<code><a href="../reference/carry_out.html">carry.out()</a></code> and <code><a href="../reference/Req.html">Req()</a></code> now take <code>newname = oldname</code> as input. Use this syntax in <code>carry.out</code> when you want to copy a column from the input data set into the simulated data set, changing the column to <code>newname</code> from <code>oldname</code>.<br>
Use this syntax in <code>Req</code> when you want to change the names of compartments or output variables spcified in <code>$TABLE</code> / <code>$CAPTURE</code>.</li>
<li>Added <code>pkmodel</code> function for easy loading and simulating from 1- and 2-compartment models (<a href="../../issues/39">issue 39</a>).</li>
<li>Added new code block: <code>$PKMODEL</code> for simulating PK model with analytical solutions. The main option for this block is <code>ncmt</code>, which picks the number of compartments for the pk model. See <code><a href="../reference/PKMODEL.html">?PKMODEL</a></code> for more information and other options (<a href="../../issues/34">issue 34</a>).</li>
</ul>
</div>
<div id="under-the-hood-3" class="section level2">
<h2 class="hasAnchor">
<a href="#under-the-hood-3" class="anchor"></a>Under the hood</h2>
<ul>
<li>Added <code>code</code> attribute to <code>mrgmod</code> objects. The actual source code stays with the model object. <code>see</code> was modified to look at <code>x<a href='http://github.com/code'>@code</a></code> first when showing the model code.</li>
<li>Added a tokenizer function (<code>get_tokens</code>), a wrapper for the boost tokenizer) to help checking the model specification file.</li>
<li>Data items entered in <code>$FIXED</code> are now implemented as C++ preprocessor directives by default rather than <code>const double</code> variables. Use <code>$SET fixed_type = "define"</code> or <code>$SET fixed_type = "const"</code> to select between the approaches.</li>
</ul>
</div>
</div>
    <div id="mrgsolve-0-5-11" class="section level1">
<h1 class="page-header">
<a href="#mrgsolve-0-5-11" class="anchor"></a>mrgsolve 0.5.11<small> Unreleased </small>
</h1>
<div id="bugs-fixed-6" class="section level2">
<h2 class="hasAnchor">
<a href="#bugs-fixed-6" class="anchor"></a>Bugs fixed</h2>
<ul>
<li>Added missing example model specification files (popExample, viralExample, others)</li>
<li>Added <code>mindt</code> attribute to <code>mrgmod</code> objects with default value of <code>.Machine$double.eps*10</code>. When the problem includes an infusion, the calculated end of the infusion may come too close to another record. Usually the solver will fail with the message <code>DLSODA- TOUT(=R1) too close to T(=R2) to start integration.</code>. To fix this, set <code>mindt</code> to be greater than zero but small … maybe 1E-12. When <code>mindt</code> is greater than zero and <code>tto - tfrom</code> (the times of two adjacent records) is less than <code>mindt</code>, mrgsolve will set <code>tto</code> equal to <code>tfrom</code> (<a href="../../issues/9">issue 9</a>).</li>
<li>
<code>zero.re</code> didn’t properly update the <code>$SIGMA</code> list when one matrix was named and another was unnamed. This has been fixed.<br>
(<a href="../../issues/16">issue 16</a>)</li>
<li>Fixed a bug where infusions with <code>ss</code>=1 caused mrgsolve/<code>R</code> to crash when the infusion duration was equal to or some multiple of the dosing interval. (<a href="../../issues/19">issue 19</a>)</li>
<li>Fixed a bug where setting <code>F_CENT</code> to zero gave undefined behavior.<br>
mrgsolve will issue an error if <code>F_CMT</code> is set to zero and the <code>ss</code> flag is set to 1. (<a href="../../issues/16">issue 22</a>)</li>
<li>Fixed bug where dosing records with <code>evid=4</code> (reset the system and dose)<br>
and <code>addl &gt; 0</code> reset the system for all subsequent doses. Additional doses coming from records with <code>evid=4</code> will not do system reset. (<a href="../../issues/23">issue 23</a>)</li>
</ul>
</div>
<div id="important-changes-5" class="section level2">
<h2 class="hasAnchor">
<a href="#important-changes-5" class="anchor"></a>Important changes</h2>
<ul>
<li>New arguments for <code>$NMXML</code> (see <code><a href="../reference/nmxml.html">?nmxml</a></code>) that are easier to understand and consistent with new prefixes and labels for <code>ETA</code> and <code>EPS</code>. <code>name</code> argument is removed. Use <code>tname</code> (to provide a prefix for <code>THETAs</code>), <code>oname</code> (to name the <code>OMEGA</code> matrix), and <code>sname</code> (to name the <code>SIGMA</code> matrix) instead. In general, set <code>theta</code> to be <code>TRUE</code> to import <code>THETAs</code>, set <code>omega</code> to be <code>TRUE</code> to import <code>OMEGA</code>, and set <code>sigma</code> to be <code>TRUE</code> to import <code>SIGMA</code>.<br>
Specifying character names <code>tname</code>, <code>oname</code>, and <code>sname</code> will imply <code>theta=TRUE</code>, <code>omega=TRUE</code>, and <code>sigma=TRUE</code>, respectively.</li>
</ul>
</div>
<div id="new-features-6" class="section level2">
<h2 class="hasAnchor">
<a href="#new-features-6" class="anchor"></a>New features</h2>
<ul>
<li>New aliases available for setting bioavailability, lag time and infusion duration and rate. For a compartment called <code>DEPOT</code> use: <code>F_DEPOT</code> (bioavailability), <code>ALAG_DEPOT</code> (dosing lag time), <code>D_DEPOT</code> (infusion duration), and / or <code>R_DEPOT</code> (infusion rate). (<a href="../../issues/13">issue 13</a>)</li>
<li>Added <em>slightly</em> more informative messages when <code>DLSODA</code> fails, including clear identification if the value of <code>istate</code>, which is 2 when the solver succeeds and negative when the solver fails.</li>
<li>Added <code>labels</code> and <code>prefix</code> options to <code>$OMEGA</code> and <code>$SIGMA</code>. These allow descriptive aliases for ETAs … e.g. using <code>ETA_CL</code> rather than <code>ETA(1)</code>.<br>
(<a href="../../issues/15">issue 15</a>)</li>
<li>Added <code><a href="http://dplyr.tidyverse.org/reference/slice.html">dplyr::slice</a></code> method for <code>mrgsims</code> objects (<a href="../../issues/11">issue 11</a>)</li>
<li>New argument to <code>mread</code>: <code>quiet</code>. Setting <code>quiet</code> to <code>TRUE</code> will prevent printing messages when <code>mread</code> is called. The default is <code>getOptions("mrgsolve_mread_quiet",FALSE)</code> … so you can call <code>options(mrgsolve_mread_quiet = TRUE)</code> to globally turn off messages from <code>mread</code>.</li>
</ul>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <div id="tocnav">
      <h2>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
        <li><a href="#mrgsolve-0-8-12-9000">0.8.12.9000</a></li>
        <li><a href="#mrgsolve-0-8-12">0.8.12</a></li>
        <li><a href="#mrgsolve-0-8-10-9015">0.8.10.9015</a></li>
        <li><a href="#mrgsolve-0-8-10-9014">0.8.10.9014</a></li>
        <li><a href="#mrgsolve-0-8-10-9013">0.8.10.9013</a></li>
        <li><a href="#mrgsolve-0-8-10-9012">0.8.10.9012</a></li>
        <li><a href="#mrgsolve-0-8-10-9011">0.8.10.9011</a></li>
        <li><a href="#mrgsolve-0-8-10-9010">0.8.10.9010</a></li>
        <li><a href="#mrgsolve-0-8-10-9009">0.8.10.9009</a></li>
        <li><a href="#mrgsolve-0-8-10-9008">0.8.10.9008</a></li>
        <li><a href="#mrgsolve-0-8-10-9007">0.8.10.9007</a></li>
        <li><a href="#mrgsolve-0-8-10-9006">0.8.10.9006</a></li>
        <li><a href="#mrgsolve-0-8-10-9005">0.8.10.9005</a></li>
        <li><a href="#mrgsolve-0-8-10-9003">0.8.10.9003</a></li>
        <li><a href="#mrgsolve-0-8-10-9002">0.8.10.9002</a></li>
        <li><a href="#mrgsolve-0-8-10-9001">0.8.10.9001</a></li>
        <li><a href="#mrgsolve-0-8-10">0.8.10</a></li>
        <li><a href="#mrgsolve-0-8-9-9004">0.8.9.9004</a></li>
        <li><a href="#mrgsolve-0-8-9-9003">0.8.9.9003</a></li>
        <li><a href="#mrgsolve-0-8-9-9002">0.8.9.9002</a></li>
        <li><a href="#mrgsolve-0-8-6-9000">0.8.6.9000</a></li>
        <li><a href="#mrgsolve-0-8-4">0.8.4</a></li>
        <li><a href="#mrgsolve-0-8-3">0.8.3</a></li>
        <li><a href="#mrgsolve-0-8-2">0.8.2</a></li>
        <li><a href="#mrgsolve-0-7-7">0.7.7</a></li>
        <li><a href="#mrgsolve-0-7-6">0.7.6</a></li>
        <li><a href="#mrgsolve-0-7-5">0.7.5</a></li>
        <li><a href="#mrgsolve-0-7-4">0.7.4</a></li>
        <li><a href="#mrgsolve-0-7-3">0.7.3</a></li>
        <li><a href="#mrgsolve-0-7-2">0.7.2</a></li>
        <li><a href="#mrgsolve-0-7-1">0.7.1</a></li>
        <li><a href="#mrgsolve-0-7-0">0.7.0</a></li>
        <li><a href="#mrgsolve-0-6-1">0.6.1</a></li>
        <li><a href="#mrgsolve-0-6-0">0.6.0</a></li>
        <li><a href="#mrgsolve-0-5-12">0.5.12</a></li>
        <li><a href="#mrgsolve-0-5-11">0.5.11</a></li>
      </ul>
    </div>
  </div>

</div>

      <footer>
      <div class="copyright">
  <p>Developed by Kyle T Baron.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  

  </body>
</html>

