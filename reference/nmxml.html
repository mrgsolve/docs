<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Import model estimates from a NONMEM xml file"><title>Import model estimates from a NONMEM xml file — nmxml • mrgsolve</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Import model estimates from a NONMEM xml file — nmxml"><meta property="og:description" content="Import model estimates from a NONMEM xml file"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">mrgsolve</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.3.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/mrgsolve.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/extra/dollar-pred.html">Models without compartments</a>
    <a class="dropdown-item" href="../articles/extra/events.html">Event objects</a>
    <a class="dropdown-item" href="../articles/extra/init.html">Set initial conditions</a>
    <a class="dropdown-item" href="../articles/extra/modeled-event-time.html">Modeled events</a>
    <a class="dropdown-item" href="../articles/extra/steady-state.html">Steady-state</a>
    <a class="dropdown-item" href="../articles/extra/time-after-dose.html">Time after dose</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/metrumresearchgroup/mrgsolve/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Import model estimates from a NONMEM xml file</h1>
      <small class="dont-index">Source: <a href="https://github.com/metrumresearchgroup/mrgsolve/blob/HEAD/R/nmxml.R" class="external-link"><code>R/nmxml.R</code></a></small>
      <div class="d-none name"><code>nmxml.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Import model estimates from a NONMEM xml file</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">nmxml</span><span class="op">(</span></span>
<span>  run <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">numeric</a></span><span class="op">(</span><span class="fl">0</span><span class="op">)</span>,</span>
<span>  project <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="fl">0</span><span class="op">)</span>,</span>
<span>  file <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="fl">0</span><span class="op">)</span>,</span>
<span>  path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="fl">0</span><span class="op">)</span>,</span>
<span>  root <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"working"</span>, <span class="st">"cppfile"</span><span class="op">)</span>,</span>
<span>  theta <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  omega <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  sigma <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  olabels <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  slabels <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  oprefix <span class="op">=</span> <span class="st">""</span>,</span>
<span>  sprefix <span class="op">=</span> <span class="st">""</span>,</span>
<span>  tname <span class="op">=</span> <span class="st">"THETA"</span>,</span>
<span>  oname <span class="op">=</span> <span class="st">"..."</span>,</span>
<span>  sname <span class="op">=</span> <span class="st">"..."</span>,</span>
<span>  index <span class="op">=</span> <span class="st">"last"</span>,</span>
<span>  xpath <span class="op">=</span> <span class="st">".//nm:estimation"</span>,</span>
<span>  env <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>run</dt>
<dd><p>run number</p></dd>


<dt>project</dt>
<dd><p>project directory</p></dd>


<dt>file</dt>
<dd><p>deprecated; use <code>path</code> instead</p></dd>


<dt>path</dt>
<dd><p>the complete path to the <code>run.xml</code> file</p></dd>


<dt>root</dt>
<dd><p>the directory that `path` and `project` are relative to; this is
currently limited to the `working` directory or `cppdir`, the directory 
where the model file is located</p></dd>


<dt>theta</dt>
<dd><p>logical; if TRUE, the <code>$THETA</code> vector is returned</p></dd>


<dt>omega</dt>
<dd><p>logical; if TRUE, the <code>$OMEGA</code> matrix is returned</p></dd>


<dt>sigma</dt>
<dd><p>logical; if TRUE, the <code>$SIGMA</code> matrix is returned</p></dd>


<dt>olabels</dt>
<dd><p>labels for <code>$OMEGA</code></p></dd>


<dt>slabels</dt>
<dd><p>labels for <code>$SIGMA</code></p></dd>


<dt>oprefix</dt>
<dd><p>prefix for <code>$OMEGA</code> labels</p></dd>


<dt>sprefix</dt>
<dd><p>prefix for <code>$SIGMA</code> labels</p></dd>


<dt>tname</dt>
<dd><p>name for <code>$THETA</code></p></dd>


<dt>oname</dt>
<dd><p>name for <code>$OMEGA</code></p></dd>


<dt>sname</dt>
<dd><p>name for <code>$SIGMA</code></p></dd>


<dt>index</dt>
<dd><p>the estimation number to return;  "last" will return the 
last estimation results; otherwise, pass an integer indicating which 
estimation results to return</p></dd>


<dt>xpath</dt>
<dd><p>xml path containing run results; if the default doesn't work, 
consider using <code>.//estimation</code> as an alternative; see details</p></dd>


<dt>env</dt>
<dd><p>internal</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A list with theta, omega and sigma elements, 
depending on what was requested</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>If <code>run</code> and <code>project</code> are supplied, the .xml file is 
assumed to be located in <code>run.xml</code>, in directory <code>run</code> 
off the <code>project</code> directory.  If <code>file</code> is supplied, 
<code>run</code> and <code>project</code> arguments are ignored.</p>
<p>This function requires that the <code>xml2</code> package 
be installed and loadable.  If <code><a href="https://xml2.r-lib.org/" class="external-link">requireNamespace("xml2")</a></code>
fails, an error will be generated.</p>
<p><code>nmxml</code> usually expects to find run results in the xpath called
<code>.//nm:estimation</code>.  Occasionally, the run results are not stored in 
this namespace but no namespaces are found in the xml file.  In this case, 
the user can specify the xpath containing run results.  Consider trying 
<code>.//estimation</code> as an alternative if the default fails.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>nmext</p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/ns-load.html" class="external-link">requireNamespace</a></span><span class="op">(</span><span class="st">"xml2"</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="va">proj</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"nonmem"</span>, package <span class="op">=</span> <span class="st">"mrgsolve"</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="fu">mrgsolve</span><span class="fu">:::</span><span class="fu">nmxml</span><span class="op">(</span>run <span class="op">=</span> <span class="fl">1005</span>, project <span class="op">=</span> <span class="va">proj</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $theta</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $theta$THETA1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 9.507886</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $theta$THETA2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 22.79099</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $theta$THETA3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.07143366</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $theta$THETA4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 3.474506</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $theta$THETA5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 113.2767</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $theta$THETA6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1.024354</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $theta$THETA7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1.192118</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $omega</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            [,1]        [,2]        [,3]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1:   0.21387884  0.12077020 -0.01162777</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2:   0.12077020  0.09451047 -0.03720637</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3:  -0.01162777 -0.03720637  0.04656315</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $sigma</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           [,1]      [,2]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1:  0.04917071 0.0000000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2:  0.00000000 0.2017688</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $file</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "/private/var/folders/zv/v6tkdhrn1_bb1ndrc0c0j31w0000gp/T/RtmpgGZRSz/temp_libpath92b717a6bf1c/mrgsolve/nonmem/1005/1005.xml"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"class")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "NMXMLDATA"</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Kyle T Baron.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

