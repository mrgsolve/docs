<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Simulate from a model object — mrgsim • mrgsolve</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Simulate from a model object — mrgsim"><meta name="description" content="This function sets up the simulation run from data stored in the model
object as well as arguments passed in.  Use mrgsim_q() instead
to benchmark mrgsolve or to do repeated quick simulation for tasks like
parameter optimization, sensitivity analyses, or optimal design.  See
mrgsim_variants for other mrgsim-like functions that have more focused
inputs. mrgsim_df coerces output to data.frame prior to returning."><meta property="og:description" content="This function sets up the simulation run from data stored in the model
object as well as arguments passed in.  Use mrgsim_q() instead
to benchmark mrgsolve or to do repeated quick simulation for tasks like
parameter optimization, sensitivity analyses, or optimal design.  See
mrgsim_variants for other mrgsim-like functions that have more focused
inputs. mrgsim_df coerces output to data.frame prior to returning."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">mrgsolve</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.5.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/mrgsolve.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/extra/dollar-pred.html">Models without compartments</a></li>
    <li><a class="dropdown-item" href="../articles/extra/events.html">Event objects</a></li>
    <li><a class="dropdown-item" href="../articles/extra/init.html">Set initial conditions</a></li>
    <li><a class="dropdown-item" href="../articles/extra/modeled-event-time.html">Modeled events</a></li>
    <li><a class="dropdown-item" href="../articles/extra/steady-state.html">Steady-state</a></li>
    <li><a class="dropdown-item" href="../articles/extra/time-after-dose.html">Time after dose</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/metrumresearchgroup/mrgsolve/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Simulate from a model object</h1>
      <small class="dont-index">Source: <a href="https://github.com/metrumresearchgroup/mrgsolve/blob/HEAD/R/mrgsolve.R" class="external-link"><code>R/mrgsolve.R</code></a></small>
      <div class="d-none name"><code>mrgsim.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function sets up the simulation run from data stored in the model
object as well as arguments passed in.  Use <code><a href="mrgsim_q.html">mrgsim_q()</a></code> instead
to benchmark mrgsolve or to do repeated quick simulation for tasks like
parameter optimization, sensitivity analyses, or optimal design.  See
<a href="mrgsim_variants.html">mrgsim_variants</a> for other mrgsim-like functions that have more focused
inputs. <code>mrgsim_df</code> coerces output to data.frame prior to returning.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">mrgsim</span><span class="op">(</span><span class="va">x</span>, data <span class="op">=</span> <span class="cn">NULL</span>, idata <span class="op">=</span> <span class="cn">NULL</span>, events <span class="op">=</span> <span class="cn">NULL</span>, nid <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">mrgsim_df</span><span class="op">(</span><span class="va">...</span>, output <span class="op">=</span> <span class="st">"df"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">do_mrgsim</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  <span class="va">data</span>,</span>
<span>  idata <span class="op">=</span> <span class="fu">no_idata_set</span><span class="op">(</span><span class="op">)</span>,</span>
<span>  carry_out <span class="op">=</span> <span class="va">carry.out</span>,</span>
<span>  carry.out <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="fl">0</span><span class="op">)</span>,</span>
<span>  recover <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="fl">0</span><span class="op">)</span>,</span>
<span>  seed <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/integer.html" class="external-link">as.integer</a></span><span class="op">(</span><span class="cn">NA</span><span class="op">)</span>,</span>
<span>  Request <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="fl">0</span><span class="op">)</span>,</span>
<span>  output <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  capture <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  obsonly <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  obsaug <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  tgrid <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  etasrc <span class="op">=</span> <span class="st">"omega"</span>,</span>
<span>  recsort <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  deslist <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  descol <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="fl">0</span><span class="op">)</span>,</span>
<span>  filbak <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  tad <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  nocb <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  skip_init_calc <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  ss_n <span class="op">=</span> <span class="fl">500</span>,</span>
<span>  ss_fixed <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  interrupt <span class="op">=</span> <span class="fl">256</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>the model object.</p></dd>


<dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>NMTRAN-like data set (see <code><a href="data_set.html">data_set()</a></code>).</p></dd>


<dt id="arg-idata">idata<a class="anchor" aria-label="anchor" href="#arg-idata"></a></dt>
<dd><p>a matrix or data frame of model parameters,
one parameter per row (see <code><a href="idata_set.html">idata_set()</a></code>).</p></dd>


<dt id="arg-events">events<a class="anchor" aria-label="anchor" href="#arg-events"></a></dt>
<dd><p>an event object.</p></dd>


<dt id="arg-nid">nid<a class="anchor" aria-label="anchor" href="#arg-nid"></a></dt>
<dd><p>integer number of individuals to simulate; only used if
idata and data are missing.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>passed to <code><a href="update.html">update()</a></code> and
<code>do_mrgsim()</code>.</p></dd>


<dt id="arg-output">output<a class="anchor" aria-label="anchor" href="#arg-output"></a></dt>
<dd><p>if <code>NULL</code> (the default) a mrgsims object is returned;
otherwise, pass <code>df</code> to return a data.frame or <code>matrix</code> to
return a matrix.</p></dd>


<dt id="arg-carry-out">carry_out<a class="anchor" aria-label="anchor" href="#arg-carry-out"></a></dt>
<dd><p>numeric data items to copy into the output.</p></dd>


<dt id="arg-carry-out">carry.out<a class="anchor" aria-label="anchor" href="#arg-carry-out"></a></dt>
<dd><p>soon to be deprecated; use <code>carry_out</code> instead.</p></dd>


<dt id="arg-recover">recover<a class="anchor" aria-label="anchor" href="#arg-recover"></a></dt>
<dd><p>character column names in either <code>data</code> or <code>idata</code>
to join back (recover) to simulated data; may be any class (e.g. numeric,
character, factor, etc).</p></dd>


<dt id="arg-seed">seed<a class="anchor" aria-label="anchor" href="#arg-seed"></a></dt>
<dd><p>deprecated.</p></dd>


<dt id="arg-request">Request<a class="anchor" aria-label="anchor" href="#arg-request"></a></dt>
<dd><p>compartments or captured variables to retain
in the simulated output; this is different than the <code>request</code>
slot in the model object, which refers only to model compartments.</p></dd>


<dt id="arg-capture">capture<a class="anchor" aria-label="anchor" href="#arg-capture"></a></dt>
<dd><p>character file name used for debugging (not related
to <code>$CAPTURE</code>).</p></dd>


<dt id="arg-obsonly">obsonly<a class="anchor" aria-label="anchor" href="#arg-obsonly"></a></dt>
<dd><p>if <code>TRUE</code>, dosing records are not included
in the output.</p></dd>


<dt id="arg-obsaug">obsaug<a class="anchor" aria-label="anchor" href="#arg-obsaug"></a></dt>
<dd><p>augment the data set with time grid observations; when
<code>TRUE</code> and a full data set is used, the simulated output is augmented
with an observation at each time in <code><a href="stime.html">stime()</a></code>.  When using
<code>obsaug</code>, a flag indicating augmented observations can be requested by
including <code>a.u.g</code> in  <code>carry_out</code>.</p></dd>


<dt id="arg-tgrid">tgrid<a class="anchor" aria-label="anchor" href="#arg-tgrid"></a></dt>
<dd><p>a tgrid object; or a numeric vector of simulation times
or another object with an <code>stime</code> method.</p></dd>


<dt id="arg-etasrc">etasrc<a class="anchor" aria-label="anchor" href="#arg-etasrc"></a></dt>
<dd><p>source for <code>ETA()</code> values in the model; values can include:
<code>"omega"</code>, <code>"data"</code>, <code>"data.all"</code>, <code>"idata"</code>, or <code>"idata.all"</code>; see
'Details'.</p></dd>


<dt id="arg-recsort">recsort<a class="anchor" aria-label="anchor" href="#arg-recsort"></a></dt>
<dd><p>record sorting flag.  Default value is 1.  Possible values
are 1,2,3,4: 1 and 2 put doses in a data set after padded observations at
the same time; 3 and 4 put those doses before padded observations at the
same time.  2 and 4 will put doses scheduled through <code>addl</code> after
observations at the same time; 1 and 3 put doses scheduled through
<code>addl</code> before observations at the same time. <code>recsort</code> will
not change the order of your input data set if both doses and observations
are given.</p></dd>


<dt id="arg-deslist">deslist<a class="anchor" aria-label="anchor" href="#arg-deslist"></a></dt>
<dd><p>a list of tgrid objects.</p></dd>


<dt id="arg-descol">descol<a class="anchor" aria-label="anchor" href="#arg-descol"></a></dt>
<dd><p>the name of a column for assigning designs.</p></dd>


<dt id="arg-filbak">filbak<a class="anchor" aria-label="anchor" href="#arg-filbak"></a></dt>
<dd><p>carry data items backward when the first
data set row has time greater than zero.</p></dd>


<dt id="arg-tad">tad<a class="anchor" aria-label="anchor" href="#arg-tad"></a></dt>
<dd><p>when <code>TRUE</code> a column is added to simulated
output is added showing the time since the last dose.  Only data records
with <code>evid == 1</code> will be considered doses for the purposes of <code>tad</code>
calculation. The <code>tad</code> can be properly calculated with a dosing lag time in
the model as long as the dosing lag time (specified in <code>$MAIN</code>)  is always
appropriate for any subsequent doses scheduled through <code>addl</code>.  This will
always be true if the lag time doesn't change over time.  But it might
(possibly) not hold if the lag time changes prior to the last dose in the
<code>addl</code> sequence.  This known limitation shouldn't affect <code>tad</code> calculation
in most common dosing lag time implementations.</p></dd>


<dt id="arg-nocb">nocb<a class="anchor" aria-label="anchor" href="#arg-nocb"></a></dt>
<dd><p>if <code>TRUE</code>, use next observation carry backward method;
otherwise, use <code>locf</code>.</p></dd>


<dt id="arg-skip-init-calc">skip_init_calc<a class="anchor" aria-label="anchor" href="#arg-skip-init-calc"></a></dt>
<dd><p>don't use <code>$MAIN</code> to calculate initial conditions.</p></dd>


<dt id="arg-ss-n">ss_n<a class="anchor" aria-label="anchor" href="#arg-ss-n"></a></dt>
<dd><p>maximum number of iterations for determining steady state for
the PK system; a warning will be issued if steady state is not achieved
within <code>ss_n</code> iterations when <code>ss_fixed</code> is <code>TRUE</code>.</p></dd>


<dt id="arg-ss-fixed">ss_fixed<a class="anchor" aria-label="anchor" href="#arg-ss-fixed"></a></dt>
<dd><p>if <code>FALSE</code> (the default), then a warning will be issued
if the system does not reach steady state within <code>ss_n</code> iterations
given the model tolerances <code>rtol</code> and <code>atol</code>; if <code>TRUE</code>,
the number of iterations for determining steady state are capped at
<code>ss_n</code> and no warning will be issued if steady state
has not been reached within <code>ss_n</code> dosing iterations.
To silence warnings related to steady state, set <code>ss_fixed</code> to <code>TRUE</code> and
set <code>ss_n</code> as the maximum number of iterations to try when advancing the
system for steady state determination.</p></dd>


<dt id="arg-interrupt">interrupt<a class="anchor" aria-label="anchor" href="#arg-interrupt"></a></dt>
<dd><p>integer check user interrupt interval; when <code>interrupt</code> is a
positive integer, the simulation will check for the user interrupt signal
every <code>interrupt</code> simulation records; pass a negative number to never check
for the user interrupt interval.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>An object of class <a href="mrgsims.html">mrgsims</a>.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>

<ul><li><p>Use <code>mrgsim_df()</code> to return a data frame rather than
<code>mrgsims</code> object.</p></li>
<li><p>Both <code>data</code> and <code>idata</code> will be coerced to numeric matrix</p></li>
<li><p><code>carry_out</code> can be used to insert data columns into the output
data set. This is partially dependent on the nature of the data brought
into the problem.</p></li>
<li><p>When using <code>data</code> and <code>idata</code> together, an error is
generated if an  ID occurs in <code>data</code> but not <code>idata</code>.
Also, when looking up data in <code>idata</code>, ID in <code>idata</code> is
assumed to be uniquely keyed to ID in <code>data</code>.  No error is
generated if ID is duplicated in <code>data</code>; parameters will be used
from the first occurrence found in <code>idata</code>.</p></li>
<li><p><code>carry_out</code>: <code>idata</code> is assumed to be individual-level and variables that
are carried from <code>idata</code> are repeated throughout the individual's simulated
data.  Variables carried from <code>data</code> are carried via last-observation carry
forward.  <code>NA</code> is returned from observations that are inserted into
simulated output that occur prior to the first record in <code>data</code>.</p></li>
<li><p><code>recover</code>: this is similar to <code>carry_out</code> with respect to
end result, but it uses a different process.  Columns to be recovered are
cached prior to running the simulation, and then joined back on to the
simulated data.  So, whereas <code>carry_out</code> will only accept numeric
data items, <code>recover</code> can handle data frame columns of any type.  There
is a small decrease in performance with <code>recover</code> compared to
<code>carry_out</code>, but it is likely that the performance difference is
difficult to perceive (when the simulation runs very fast) or only a small
fractional increase in run time when the simulation is very large.  And any
performance hit is likely to be well worth it in light of the convenience
gain.  Just think carefully about using this feature when every millisecond
counts.</p></li>
<li><p><code>etasrc</code>: this argument lets you control where <code>ETA(n)</code> come from in the
model. When <code>etasrc</code> is set to <code>"omega"</code> (the default), <code>ETAs</code> will be
simulated from a multivariate normal distribution defined by the <code>$OMEGA</code>
blocks in the model. Alternatively, input <code>data</code> or <code>idata</code> sets can be used
to pass in fixed <code>ETA(n)</code> by setting <code>etasrc</code> to <code>"data"</code>, <code>"idata"</code>,
<code>"data.all"</code> or <code>"idata.all"</code>. When <code>etasrc</code> is set to <code>"data"</code> or <code>"data.all"</code>,
the input data set will be scanned for columns called <code>ETA1</code>, <code>ETA2</code>, ...,
<code>ETAn</code> and those values will be copied into the appropriate slot in the
<code>ETA()</code> vector. Only the first record for each individual will be copied into
<code>ETA()</code>; all records after the first will be ignored. When there are more
than <code>9</code> <code>ETAs</code> in a model, NONMEM will start naming the outputs <code>ET10</code>,
<code>ET11</code> etc rather than <code>ETA10</code> and <code>ETA11</code>. When mrgsolve is looking for
these columns, it will first search, for example, <code>ET10</code> and use that value
if it is found. If <code>ET10</code> isn't found and there are more than <code>9</code> <code>ETAs</code>,
then it will <em>also</em> search for <code>ETA10</code>. An error will be generated in case
mrgsolve finds both the <code>ETA</code> and <code>ET</code> name variant for the tenth and higher
<code>ETA</code> (e.g. it is an error to have both <code>ETA10</code> and <code>ET10</code> in the data set).
When mrgsolve is searching for <code>ETA</code> columns in the data set, it will
<em>only</em> look for <code>ETAn</code> up to the number of rows (or columns) in all the
model <code>$OMEGA</code> blocks. For example, if <code>$OMEGA</code> is 5x5, only <code>ETA1</code> through
<code>ETA5</code> will be searched. An error will be generated in case mrgsolve finds
<em>no</em> columns with <code>ETAn</code> names and something other than <code>etasrc = "omega"</code>
was passed. When <code>etasrc = "data"</code> and an <code>ETAn</code> column is missing from the
data set, the missing <code>ETA()</code> will be set to <code>0</code>.  Alternatively, the user
can pass <code>etasrc = "data.all"</code> which causes an error to be generated if any
<code>ETAn</code> is missing from the data set. Use this option when you intend to have
<em>all</em> <code>ETAs</code> attached to the data set and want an error generated if mrgsolve
finds one or more of them is missing. Using <code>etasrc ="idata"</code> or
<code>"idata.all"</code>, the behavior is identical to <code>"data"</code> (or <code>"data.all"</code>),
except mrgsolve will look at the idata set rather than data set.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><a href="mrgsim_variants.html">mrgsim_variants</a>, <code><a href="mrgsim_q.html">mrgsim_q()</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co">## example("mrgsim")</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">e</span> <span class="op">&lt;-</span> <span class="fu"><a href="ev.html">ev</a></span><span class="op">(</span>amt <span class="op">=</span> <span class="fl">1000</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">mod</span> <span class="op">&lt;-</span> <span class="fu">mrgsolve</span><span class="fu">::</span><span class="fu"><a href="house.html">house</a></span><span class="op">(</span><span class="op">)</span> </span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">out</span> <span class="op">&lt;-</span> <span class="va">mod</span> <span class="op"><a href="zchain.html">%&gt;%</a></span> <span class="fu"><a href="ev.html">ev</a></span><span class="op">(</span><span class="va">e</span><span class="op">)</span> <span class="op"><a href="zchain.html">%&gt;%</a></span> <span class="fu">mrgsim</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">out</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="mrgsim-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">out</span> <span class="op">&lt;-</span> <span class="va">mod</span> <span class="op"><a href="zchain.html">%&gt;%</a></span> <span class="fu"><a href="ev.html">ev</a></span><span class="op">(</span><span class="va">e</span><span class="op">)</span> <span class="op"><a href="zchain.html">%&gt;%</a></span> <span class="fu">mrgsim</span><span class="op">(</span>end<span class="op">=</span><span class="fl">22</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">out</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Model:  housemodel </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Dim:    90 x 7 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Time:   0 to 22 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ID:     1 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     ID time    GUT  CENT  RESP    DV    CP</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1:   1 0.00    0.0   0.0 50.00  0.00  0.00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2:   1 0.00 1000.0   0.0 50.00  0.00  0.00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3:   1 0.25  740.8 257.5 42.29 12.87 12.87</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4:   1 0.50  548.8 445.0 32.69 22.25 22.25</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5:   1 0.75  406.6 580.8 25.29 29.04 29.04</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6:   1 1.00  301.2 678.3 20.05 33.91 33.91</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7:   1 1.25  223.1 747.4 16.45 37.37 37.37</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8:   1 1.50  165.3 795.6 14.01 39.78 39.78</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">exTheoph</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">out</span> <span class="op">&lt;-</span> <span class="va">mod</span> <span class="op"><a href="zchain.html">%&gt;%</a></span> <span class="fu"><a href="data_set.html">data_set</a></span><span class="op">(</span><span class="va">exTheoph</span><span class="op">)</span> <span class="op"><a href="zchain.html">%&gt;%</a></span> <span class="fu">mrgsim</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">out</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Model:  housemodel </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Dim:    132 x 7 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Time:   0 to 24.65 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ID:     12 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     ID time      GUT  CENT  RESP      DV      CP</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1:   1 0.00 4.020000 0.000 50.00 0.00000 0.00000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2:   1 0.25 2.978089 1.035 49.95 0.04552 0.04552</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3:   1 0.57 2.028470 1.961 49.81 0.08624 0.08624</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4:   1 1.12 1.048417 2.875 49.57 0.12643 0.12643</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5:   1 2.02 0.356038 3.428 49.33 0.15072 0.15072</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6:   1 3.82 0.041060 3.439 49.25 0.15121 0.15121</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7:   1 5.10 0.008838 3.263 49.28 0.14348 0.14348</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8:   1 7.03 0.000872 2.980 49.34 0.13101 0.13101</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">out</span> <span class="op">&lt;-</span> <span class="va">mod</span> <span class="op"><a href="zchain.html">%&gt;%</a></span> <span class="fu">mrgsim</span><span class="op">(</span>data<span class="op">=</span><span class="va">exTheoph</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">out</span> <span class="op">&lt;-</span> <span class="fu">mrgsim</span><span class="op">(</span><span class="va">mod</span>, data<span class="op">=</span><span class="va">exTheoph</span>, obsonly<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">out</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Model:  housemodel </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Dim:    120 x 7 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Time:   0.25 to 24.65 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ID:     12 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     ID time       GUT  CENT  RESP      DV      CP</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1:   1 0.25 2.978e+00 1.035 49.95 0.04552 0.04552</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2:   1 0.57 2.028e+00 1.961 49.81 0.08624 0.08624</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3:   1 1.12 1.048e+00 2.875 49.57 0.12643 0.12643</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4:   1 2.02 3.560e-01 3.428 49.33 0.15072 0.15072</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5:   1 3.82 4.106e-02 3.439 49.25 0.15121 0.15121</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6:   1 5.10 8.838e-03 3.263 49.28 0.14348 0.14348</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7:   1 7.03 8.720e-04 2.980 49.34 0.13101 0.13101</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8:   1 9.05 7.723e-05 2.703 49.40 0.11884 0.11884</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">out</span> <span class="op">&lt;-</span> <span class="va">mod</span> <span class="op"><a href="zchain.html">%&gt;%</a></span> <span class="fu">mrgsim</span><span class="op">(</span>data<span class="op">=</span><span class="va">exTheoph</span>, obsaug<span class="op">=</span><span class="cn">TRUE</span>, carry_out<span class="op">=</span><span class="st">"a.u.g"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">out</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Model:  housemodel </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Dim:    5904 x 8 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Time:   0 to 120 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ID:     12 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     ID time a.u.g   GUT  CENT  RESP      DV      CP</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1:   1 0.00     1 0.000 0.000 50.00 0.00000 0.00000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2:   1 0.00     0 4.020 0.000 50.00 0.00000 0.00000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3:   1 0.25     1 2.978 1.035 49.95 0.04552 0.04552</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4:   1 0.25     0 2.978 1.035 49.95 0.04552 0.04552</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5:   1 0.50     1 2.206 1.790 49.84 0.07870 0.07870</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6:   1 0.57     0 2.028 1.961 49.81 0.08624 0.08624</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7:   1 0.75     1 1.634 2.337 49.73 0.10274 0.10274</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8:   1 1.00     1 1.211 2.729 49.61 0.12001 0.12001</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">out</span> <span class="op">&lt;-</span> <span class="va">mod</span> <span class="op"><a href="zchain.html">%&gt;%</a></span> <span class="fu"><a href="ev.html">ev</a></span><span class="op">(</span><span class="va">e</span><span class="op">)</span> <span class="op"><a href="zchain.html">%&gt;%</a></span> <span class="fu">mrgsim</span><span class="op">(</span>outvars<span class="op">=</span><span class="st">"CP,RESP"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">out</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Model:  housemodel </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Dim:    482 x 4 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Time:   0 to 120 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ID:     1 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     ID time  RESP    CP</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1:   1 0.00 50.00  0.00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2:   1 0.00 50.00  0.00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3:   1 0.25 42.29 12.87</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4:   1 0.50 32.69 22.25</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5:   1 0.75 25.29 29.04</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6:   1 1.00 20.05 33.91</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7:   1 1.25 16.45 37.37</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8:   1 1.50 14.01 39.78</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">a</span> <span class="op">&lt;-</span> <span class="fu"><a href="ev.html">ev</a></span><span class="op">(</span>amt <span class="op">=</span> <span class="fl">1000</span>, group <span class="op">=</span> <span class="st">'a'</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">b</span> <span class="op">&lt;-</span> <span class="fu"><a href="ev.html">ev</a></span><span class="op">(</span>amt <span class="op">=</span> <span class="fl">750</span>, group <span class="op">=</span> <span class="st">'b'</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="as_data_set.html">as_data_set</a></span><span class="op">(</span><span class="va">a</span>,<span class="va">b</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">out</span> <span class="op">&lt;-</span> <span class="fu"><a href="mrgsim_variants.html">mrgsim_d</a></span><span class="op">(</span><span class="va">mod</span>, <span class="va">data</span>, recover<span class="op">=</span><span class="st">"group"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">out</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Model:  housemodel </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Dim:    964 x 8 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Time:   0 to 120 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ID:     2 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     ID time    GUT  CENT  RESP    DV    CP group</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1:   1 0.00    0.0   0.0 50.00  0.00  0.00     a</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2:   1 0.00 1000.0   0.0 50.00  0.00  0.00     a</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3:   1 0.25  740.8 257.5 42.29 12.87 12.87     a</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4:   1 0.50  548.8 445.0 32.69 22.25 22.25     a</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5:   1 0.75  406.6 580.8 25.29 29.04 29.04     a</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6:   1 1.00  301.2 678.3 20.05 33.91 33.91     a</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7:   1 1.25  223.1 747.4 16.45 37.37 37.37     a</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8:   1 1.50  165.3 795.6 14.01 39.78 39.78     a</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Kyle T Baron.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

