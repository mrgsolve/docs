<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Basic, simple simulation from model object — qsim • mrgsolve</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Basic, simple simulation from model object — qsim"><meta name="description" content="This is just a lighter version of mrgsim(), with fewer options but with
better efficiency in certain cases.  See Details."><meta property="og:description" content="This is just a lighter version of mrgsim(), with fewer options but with
better efficiency in certain cases.  See Details."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">mrgsolve</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.5.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/mrgsolve.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/extra/dollar-pred.html">Models without compartments</a></li>
    <li><a class="dropdown-item" href="../articles/extra/events.html">Event objects</a></li>
    <li><a class="dropdown-item" href="../articles/extra/init.html">Set initial conditions</a></li>
    <li><a class="dropdown-item" href="../articles/extra/modeled-event-time.html">Modeled events</a></li>
    <li><a class="dropdown-item" href="../articles/extra/steady-state.html">Steady-state</a></li>
    <li><a class="dropdown-item" href="../articles/extra/time-after-dose.html">Time after dose</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/metrumresearchgroup/mrgsolve/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Basic, simple simulation from model object</h1>
      <small class="dont-index">Source: <a href="https://github.com/metrumresearchgroup/mrgsolve/blob/HEAD/R/mrgsolve.R" class="external-link"><code>R/mrgsolve.R</code></a></small>
      <div class="d-none name"><code>qsim.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This is just a lighter version of <code><a href="mrgsim.html">mrgsim()</a></code>, with fewer options but with
better efficiency in certain cases.  See <strong>Details</strong>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">qsim</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  <span class="va">data</span>,</span>
<span>  idata <span class="op">=</span> <span class="fu">no_idata_set</span><span class="op">(</span><span class="op">)</span>,</span>
<span>  obsonly <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  tgrid <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  recsort <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  tad <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  Req <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  outvars <span class="op">=</span> <span class="va">Req</span>,</span>
<span>  skip_init_calc <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  output <span class="op">=</span> <span class="st">"mrgsims"</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>the model object.</p></dd>


<dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>can be either event object or data set.</p></dd>


<dt id="arg-idata">idata<a class="anchor" aria-label="anchor" href="#arg-idata"></a></dt>
<dd><p>a matrix or data frame of model parameters,
one parameter per row (see <code><a href="idata_set.html">idata_set()</a></code>).</p></dd>


<dt id="arg-obsonly">obsonly<a class="anchor" aria-label="anchor" href="#arg-obsonly"></a></dt>
<dd><p>if <code>TRUE</code>, dosing records are not included
in the output.</p></dd>


<dt id="arg-tgrid">tgrid<a class="anchor" aria-label="anchor" href="#arg-tgrid"></a></dt>
<dd><p>a tgrid object; or a numeric vector of simulation times
or another object with an <code>stime</code> method.</p></dd>


<dt id="arg-recsort">recsort<a class="anchor" aria-label="anchor" href="#arg-recsort"></a></dt>
<dd><p>record sorting flag.  Default value is 1.  Possible values
are 1,2,3,4: 1 and 2 put doses in a data set after padded observations at
the same time; 3 and 4 put those doses before padded observations at the
same time.  2 and 4 will put doses scheduled through <code>addl</code> after
observations at the same time; 1 and 3 put doses scheduled through
<code>addl</code> before observations at the same time. <code>recsort</code> will
not change the order of your input data set if both doses and observations
are given.</p></dd>


<dt id="arg-tad">tad<a class="anchor" aria-label="anchor" href="#arg-tad"></a></dt>
<dd><p>when <code>TRUE</code> a column is added to simulated
output is added showing the time since the last dose.  Only data records
with <code>evid == 1</code> will be considered doses for the purposes of <code>tad</code>
calculation. The <code>tad</code> can be properly calculated with a dosing lag time in
the model as long as the dosing lag time (specified in <code>$MAIN</code>)  is always
appropriate for any subsequent doses scheduled through <code>addl</code>.  This will
always be true if the lag time doesn't change over time.  But it might
(possibly) not hold if the lag time changes prior to the last dose in the
<code>addl</code> sequence.  This known limitation shouldn't affect <code>tad</code> calculation
in most common dosing lag time implementations.</p></dd>


<dt id="arg-req">Req<a class="anchor" aria-label="anchor" href="#arg-req"></a></dt>
<dd><p>synonym for <code>outvars</code>.</p></dd>


<dt id="arg-outvars">outvars<a class="anchor" aria-label="anchor" href="#arg-outvars"></a></dt>
<dd><p>output items to request; if missing, then only captured items
will be returned in the output.</p></dd>


<dt id="arg-skip-init-calc">skip_init_calc<a class="anchor" aria-label="anchor" href="#arg-skip-init-calc"></a></dt>
<dd><p>don't use <code>$MAIN</code> to calculate initial conditions.</p></dd>


<dt id="arg-output">output<a class="anchor" aria-label="anchor" href="#arg-output"></a></dt>
<dd><p>output data type; the default is <code>mrgsims</code>, which returns the
default output object; other options include <code>df</code> (for data.frame) or
<code>matrix</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p><code>qsim()</code> mainly cuts some of the overhead from the simulation. So, the
primary efficiency gain from using <code>qsim()</code> comes when the simulation
executes very quickly. It is unlikely you will see a big performance
difference between <code>qsim()</code> and <code><a href="mrgsim.html">mrgsim()</a></code> when the model is difficult to
solve or if there is a large input data set.</p>
<p>There is no pipeline interface for this function; all configuration options
(see <strong>Arguments</strong>) must be passed as formal arguments to the function.
You can't <code>carry_out</code>, <code>Request</code> specific columns, or pass items in for update.
Some other limitations, but only convenience-related.  See <strong>Arguments</strong> for
available options.  Specifically, there is no <code>...</code> argument for this function.
Use the <code><a href="update.html">update()</a></code> method to update the model object.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="mrgsim_q.html">mrgsim_q()</a></code>, <code><a href="mrgsim.html">mrgsim()</a></code>, <a href="mrgsim_variants.html">mrgsim_variants</a></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">mod</span> <span class="op">&lt;-</span> <span class="fu">mrgsolve</span><span class="fu">::</span><span class="fu"><a href="house.html">house</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">dose</span> <span class="op">&lt;-</span> <span class="fu"><a href="ev.html">ev</a></span><span class="op">(</span>amt <span class="op">=</span> <span class="fl">100</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">out</span> <span class="op">&lt;-</span> <span class="fu">qsim</span><span class="op">(</span><span class="va">mod</span>,<span class="va">dose</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Kyle T Baron.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

