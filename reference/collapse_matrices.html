<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Collapse OMEGA or SIGMA matrix lists — collapse_omega • mrgsolve</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Collapse OMEGA or SIGMA matrix lists — collapse_omega"><meta property="og:description" content='If multiple OMEGA (or SIGMA) blocks were written into the model,
these can be collapsed into a single matrix. This will not change the
functionality of the model, but will alter how OMEGA (or SIGMA) are
updated, usually making it easier. This "collapsing" of the matrix list
is irreversible.'><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">mrgsolve</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.0.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/mrgsolve.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/extra/dollar-pred.html">Models without compartments</a>
    </li>
    <li>
      <a href="../articles/extra/events.html">Event objects</a>
    </li>
    <li>
      <a href="../articles/extra/init.html">Set initial conditions</a>
    </li>
    <li>
      <a href="../articles/extra/modeled-event-time.html">Modeled events</a>
    </li>
    <li>
      <a href="../articles/extra/steady-state.html">Steady-state</a>
    </li>
    <li>
      <a href="../articles/extra/time-after-dose.html">Time after dose</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a>
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Collapse OMEGA or SIGMA matrix lists</h1>
    <small class="dont-index">Source: <a href="https://github.com/metrumresearchgroup/mrgsolve/blob/HEAD/R/matlist.R" class="external-link"><code>R/matlist.R</code></a></small>
    <div class="hidden name"><code>collapse_matrices.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>If multiple <code>OMEGA</code> (or <code>SIGMA</code>) blocks were written into the model,
these can be collapsed into a single matrix. This will not change the
functionality of the model, but will alter how <code>OMEGA</code> (or <code>SIGMA</code>) are
updated, usually making it easier. This "collapsing" of the matrix list
is irreversible.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">collapse_omega</span><span class="op">(</span><span class="va">x</span>, range <span class="op">=</span> <span class="cn">NULL</span>, name <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span>

<span class="fu">collapse_sigma</span><span class="op">(</span><span class="va">x</span>, range <span class="op">=</span> <span class="cn">NULL</span>, name <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>x</dt>
<dd><p>a <code>mrgmod</code> object</p></dd>
<dt>range</dt>
<dd><p>numeric vector of length 2 specifying the range of matrices
to collapse in case there are more than 2. The second element may be <code>NA</code>
to indicate the length of the list of matrices.</p></dd>
<dt>name</dt>
<dd><p>a new name for the collapsed matrix; note that this is the
matrix name, not the labels which alias <code>ETA(n)</code> or <code>EPS(n)</code>; specifying a
name will only alter how this matrix is potentially updated in the future</p></dd>
</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>A model object with updated <code>OMEGA</code> or <code>SIGMA</code> matrix lists.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="collapse_matrix.html">collapse_matrix()</a></code></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="va">code</span> <span class="op">&lt;-</span> <span class="st">'</span>
<span class="r-in">$OMEGA 1 2 3</span>
<span class="r-in">$OMEGA 4 5</span>
<span class="r-in">$OMEGA 6 7 8 9</span>
<span class="r-in">'</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">mod</span> <span class="op">&lt;-</span> <span class="fu"><a href="mcode.html">mcode</a></span><span class="op">(</span><span class="st">"collapse-example"</span>, <span class="va">code</span>, compile <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="revar.html">revar</a></span><span class="op">(</span><span class="va">mod</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $omega</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     [,1] [,2] [,3]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1:     1    0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2:     0    2    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3:     0    0    3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     [,1] [,2]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4:     4    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5:     0    5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     [,1] [,2] [,3] [,4]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6:     6    0    0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7:     0    7    0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8:     0    0    8    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9:     0    0    0    9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $sigma</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> No matrices found</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span class="fu">collapse_omega</span><span class="op">(</span><span class="va">mod</span><span class="op">)</span> <span class="op"><a href="zchain.html">%&gt;%</a></span> <span class="fu"><a href="omega.html">omat</a></span><span class="op">(</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1:     1    0    0    0    0    0    0    0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2:     0    2    0    0    0    0    0    0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3:     0    0    3    0    0    0    0    0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4:     0    0    0    4    0    0    0    0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5:     0    0    0    0    5    0    0    0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6:     0    0    0    0    0    6    0    0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7:     0    0    0    0    0    0    7    0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8:     0    0    0    0    0    0    0    8    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9:     0    0    0    0    0    0    0    0    9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span class="fu">collapse_omega</span><span class="op">(</span><span class="va">mod</span>, range <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">3</span><span class="op">)</span>, name <span class="op">=</span> <span class="st">"new_matrix"</span><span class="op">)</span> <span class="op"><a href="zchain.html">%&gt;%</a></span> <span class="fu"><a href="omega.html">omat</a></span><span class="op">(</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     [,1] [,2] [,3]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1:     1    0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2:     0    2    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3:     0    0    3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $new_matrix</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     [,1] [,2] [,3] [,4] [,5] [,6]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4:     4    0    0    0    0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5:     0    5    0    0    0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6:     0    0    6    0    0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7:     0    0    0    7    0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8:     0    0    0    0    8    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9:     0    0    0    0    0    9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span class="fu">collapse_omega</span><span class="op">(</span><span class="va">mod</span>, range <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="cn">NA</span><span class="op">)</span>, name <span class="op">=</span> <span class="st">"new_matrix"</span><span class="op">)</span> <span class="op"><a href="zchain.html">%&gt;%</a></span> <span class="fu"><a href="omega.html">omat</a></span><span class="op">(</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     [,1] [,2] [,3]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1:     1    0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2:     0    2    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3:     0    0    3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $new_matrix</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     [,1] [,2] [,3] [,4] [,5] [,6]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4:     4    0    0    0    0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5:     0    5    0    0    0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6:     0    0    6    0    0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7:     0    0    0    7    0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8:     0    0    0    0    8    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9:     0    0    0    0    0    9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Kyle T Baron.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

      </footer></div>

  


  

  </body></html>

